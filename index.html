<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleep Quality Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>üåô Sleep Quality Predictor</h1>
            <p class="subtitle">Predict your sleep quality based on lifestyle factors</p>
        </header>

        <main>
            <div class="form-container">
                <form id="predictionForm">
                    <div class="form-group">
                        <label for="screen_time">
                            üì± Average Daily Screen Time (hours)
                            <span class="tooltip" data-tooltip="Total hours spent on screens (phone, computer, TV) per day">‚ÑπÔ∏è</span>
                        </label>
                        <input type="number" id="screen_time" name="screen_time" 
                               min="0" max="16" step="0.5" value="6" required>
                        <span class="input-hint">0 - 16 hours</span>
                    </div>

                    <div class="form-group">
                        <label for="caffeine_intake">
                            ‚òï Caffeine Intake (mg/day)
                            <span class="tooltip" data-tooltip="Total caffeine consumed per day (coffee, tea, energy drinks)">‚ÑπÔ∏è</span>
                        </label>
                        <input type="number" id="caffeine_intake" name="caffeine_intake" 
                               min="0" max="600" step="10" value="150" required>
                        <span class="input-hint">0 - 600 mg</span>
                    </div>

                    <div class="form-group">
                        <label for="exercise_duration">
                            üèÉ Exercise Duration (minutes/day)
                            <span class="tooltip" data-tooltip="Daily physical activity duration in minutes">‚ÑπÔ∏è</span>
                        </label>
                        <input type="number" id="exercise_duration" name="exercise_duration" 
                               min="0" max="180" step="5" value="30" required>
                        <span class="input-hint">0 - 180 minutes</span>
                    </div>

                    <div class="form-group">
                        <label for="stress_level">
                            üò∞ Stress Level (1-10)
                            <span class="tooltip" data-tooltip="Your perceived stress level from 1 (very low) to 10 (very high)">‚ÑπÔ∏è</span>
                        </label>
                        <input type="number" id="stress_level" name="stress_level" 
                               min="1" max="10" step="0.5" value="5" required>
                        <div class="slider-container">
                            <input type="range" id="stress_level_slider" min="1" max="10" step="0.5" value="5">
                            <div class="slider-labels">
                                <span>Low (1)</span>
                                <span>High (10)</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sleep_duration">
                            üò¥ Sleep Duration (hours)
                            <span class="tooltip" data-tooltip="Average hours of sleep per night">‚ÑπÔ∏è</span>
                        </label>
                        <input type="number" id="sleep_duration" name="sleep_duration" 
                               min="4" max="12" step="0.5" value="7.5" required>
                        <span class="input-hint">4 - 12 hours</span>
                    </div>

                    <button type="submit" class="predict-btn" id="predictBtn">
                        <span>Predict Sleep Quality</span>
                    </button>
                </form>
            </div>

            <div id="resultContainer" class="result-container hidden">
                <div class="result-card">
                    <h2>Your Sleep Quality Score</h2>
                    <div class="score-display">
                        <div class="score-circle" id="scoreCircle">
                            <span class="score-value" id="scoreValue">0</span>
                            <span class="score-label">/ 100</span>
                        </div>
                    </div>
                    
                    <div class="score-interpretation" id="scoreInterpretation"></div>

                    <div class="insights-section">
                        <h3>üí° Insights & Recommendations</h3>
                        <ul id="insightsList"></ul>
                    </div>

                    <div class="feature-importance">
                        <h3>üìä Factor Impact</h3>
                        <div id="featureImportance"></div>
                    </div>

                    <button class="reset-btn" id="resetBtn">Predict Again</button>
                </div>
            </div>

            <div id="loadingSpinner" class="loading-spinner hidden">
                <div class="spinner"></div>
                <p>Analyzing your data...</p>
            </div>

            <div id="errorMessage" class="error-message hidden"></div>
        </main>

        <footer>
            <p>Built with Machine Learning | Random Forest & XGBoost</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>

